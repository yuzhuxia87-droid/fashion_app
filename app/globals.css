@import "tailwindcss";

:root {
  /* ========================================
     Grayscale palette (10 steps)
     ======================================== */
  --gray-950: hsl(220 13% 5%);    /* #0C0D0F - almost black */
  --gray-900: hsl(220 13% 9%);    /* #111827 - darkest (headings) */
  --gray-800: hsl(220 13% 15%);   /* #1F2937 - darker (subheadings) */
  --gray-700: hsl(217 19% 27%);   /* #374151 - dark (icons, labels) */
  --gray-600: hsl(220 9% 46%);    /* #6B7280 - medium (body text) */
  --gray-500: hsl(220 9% 55%);    /* #9CA3AF - medium-light (placeholders) */
  --gray-400: hsl(220 14% 70%);   /* #D1D5DB - light (disabled text) */
  --gray-300: hsl(220 13% 80%);   /* #E0E3E7 - lighter (dividers) */
  --gray-200: hsl(220 13% 91%);   /* #E5E7EB - very light (borders) */
  --gray-100: hsl(220 14% 96%);   /* #F3F4F6 - ultra light (backgrounds) */
  --gray-50: hsl(220 14% 98%);    /* #F9FAFB - almost white */

  /* ========================================
     Brand Pink palette (7 steps)
     ======================================== */
  --pink-50: hsl(322 87% 98%);    /* #FEF5FB - background tint */
  --pink-100: hsl(322 87% 95%);   /* #FCE7F3 - badges, light backgrounds */
  --pink-200: hsl(330 81% 88%);   /* #F9A8D4 - hover backgrounds */
  --pink-300: hsl(330 81% 78%);   /* #F472B6 - light accents */
  --pink-400: hsl(339 75% 73%);   /* #ee87ab - primary brand color (2025 pastel) */
  --pink-500: hsl(330 81% 60%);   /* #EC4899 - button hover state */
  --pink-600: hsl(330 81% 52%);   /* #DB2777 - darker hover state */
  --pink-700: hsl(330 81% 44%);   /* #BE185D - button active state */

  /* ========================================
     Accent Purple palette (4 steps)
     ======================================== */
  --purple-50: hsl(244 63% 97%);  /* #F0EDFF - subtle background */
  --purple-100: hsl(244 63% 95%); /* #E8E5FF - light background */
  --purple-200: hsl(244 63% 90%); /* #DCD7FF - hover state */
  --purple-500: hsl(244 63% 70%); /* #8B7CFF - accent color */

  /* ========================================
     Tab Indicator Gradient (matches screen gradient but darker)
     Used for active state in collection filters
     ======================================== */
  --tab-indicator-from: hsl(244 63% 75%);   /* Deeper purple - #9B8EFF */
  --tab-indicator-via: hsl(339 75% 68%);    /* Deeper pink - #EA6FA0 */
  --tab-indicator-to: hsl(244 63% 72%);     /* Deeper purple-pink - #9388FF */

  /* ========================================
     Tabs Component Sizing (Design System)
     ======================================== */
  --tabs-list-height: 3.5rem;           /* 56px - standard height */
  --tabs-list-height-md: 4rem;          /* 64px - larger screens */
  --tabs-list-padding: 0.75rem;         /* 12px - internal padding */
  --tabs-list-radius: 1rem;             /* 16px - outer border radius */
  --tabs-indicator-radius: 0.75rem;     /* 12px - indicator border radius */

  /* ========================================
     Soft Red palette (for destructive actions)
     ======================================== */
  --red-50: hsl(0 86% 97%);       /* #FEF2F2 - very light red background */
  --red-100: hsl(0 93% 94%);      /* #FEE2E2 - light red background */
  --red-600: hsl(0 84% 60%);      /* #EF4444 - strong red for text */
  --red-700: hsl(0 74% 42%);      /* #DC2626 - darker red for hover */

  /* ========================================
     Semantic tokens (shadcn/ui compatible)
     ======================================== */
  --background: hsl(0 0% 100%);           /* Page background - pure white */
  --foreground: hsl(220 13% 9%);          /* Primary text */
  --surface: hsl(0 0% 100%);              /* Surface color */

  --card: hsl(0 0% 100%);                 /* Card background */
  --card-foreground: hsl(220 13% 9%);     /* Card text */

  --popover: hsl(0 0% 100%);              /* Popover background */
  --popover-foreground: hsl(220 13% 9%);  /* Popover text */

  --primary: hsl(330 81% 60%);            /* Primary brand color */
  --primary-foreground: hsl(0 0% 100%);   /* Text on primary */
  --primary-light: hsl(322 87% 95%);      /* Light primary (for hover/bg) */

  --secondary: hsl(220 14% 96%);          /* Secondary background */
  --secondary-foreground: hsl(220 13% 9%); /* Secondary text */
  --secondary-accent: hsl(244 63% 95%);   /* Purple accent background */

  --muted: hsl(220 14% 96%);              /* Muted background */
  --muted-foreground: hsl(220 9% 46%);    /* Muted text */

  --accent: hsl(220 13% 9%);              /* Accent color */
  --accent-foreground: hsl(0 0% 100%);    /* Accent text */

  --destructive: hsl(0 93% 94%);          /* Soft destructive background (red-100) */
  --destructive-foreground: hsl(0 84% 60%); /* Destructive text (red-600) */

  --border: hsl(220 13% 91%);             /* Default border */
  --input: hsl(220 13% 91%);              /* Input border */
  --ring: hsl(330 81% 60%);               /* Focus ring (pink-500 for brand consistency) */

  --radius: 9999px;      /* Border radius (pill-shaped) */
}

@theme inline {
  /* ========================================
     Grayscale utilities (complete 10-step)
     ======================================== */
  --color-gray-950: var(--gray-950);
  --color-gray-900: var(--gray-900);
  --color-gray-800: var(--gray-800);
  --color-gray-700: var(--gray-700);
  --color-gray-600: var(--gray-600);
  --color-gray-500: var(--gray-500);
  --color-gray-400: var(--gray-400);
  --color-gray-300: var(--gray-300);
  --color-gray-200: var(--gray-200);
  --color-gray-100: var(--gray-100);
  --color-gray-50: var(--gray-50);

  /* ========================================
     Brand Pink utilities (7-step)
     ======================================== */
  --color-pink-50: var(--pink-50);
  --color-pink-100: var(--pink-100);
  --color-pink-200: var(--pink-200);
  --color-pink-300: var(--pink-300);
  --color-pink-400: var(--pink-400);
  --color-pink-500: var(--pink-500);
  --color-pink-600: var(--pink-600);
  --color-pink-700: var(--pink-700);

  /* ========================================
     Accent Purple utilities (4-step)
     ======================================== */
  --color-purple-50: var(--purple-50);
  --color-purple-100: var(--purple-100);
  --color-purple-200: var(--purple-200);
  --color-purple-500: var(--purple-500);

  /* ========================================
     Tab Indicator Gradient utilities
     ======================================== */
  --color-tab-indicator-from: var(--tab-indicator-from);
  --color-tab-indicator-via: var(--tab-indicator-via);
  --color-tab-indicator-to: var(--tab-indicator-to);

  /* ========================================
     Soft Red utilities (4-step)
     ======================================== */
  --color-red-50: var(--red-50);
  --color-red-100: var(--red-100);
  --color-red-600: var(--red-600);
  --color-red-700: var(--red-700);

  /* ========================================
     Semantic color utilities (shadcn/ui compatible)
     ======================================== */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-surface: var(--surface);

  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);

  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);

  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary-light: var(--primary-light);

  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary-accent: var(--secondary-accent);

  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);

  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);

  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);

  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);

  /* ========================================
     Border radius
     ======================================== */
  --radius: 9999px;
  --radius-lg: 1rem;
  --radius-md: 0.5rem;
  --radius-sm: 0.25rem;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: hsl(0 0% 4%);
    --foreground: hsl(0 0% 93%);
  }
}

/* ========================================
   iOS/Mobile Scroll Fix
   ======================================== */
* {
  -webkit-overflow-scrolling: touch;
}

html,
body {
  overflow-x: hidden;
  overflow-y: auto !important;  /* !important to override Radix Dialog */
  touch-action: pan-y pinch-zoom;
  overscroll-behavior-y: contain;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* ========================================
   Radix UI Dialog Fix - Multi-Layer Defense

   背景:
   Radix UI DialogはDialog表示中にbody要素に動的にインラインスタイルを追加します:
   - overflow: hidden (スクロールを無効化)
   - padding-right: [width]px (スクロールバー分のレイアウトシフトを防止)

   問題:
   Dialog閉鎖後、これらのスタイルが残留することがあり、
   アプリ全体でスクロールができなくなります。

   解決策:
   以下の多重防御により、どのパターンでもbodyのスクロールを強制的に有効化:
   1. body要素への基本的な!important指定
   2. overflow: hiddenを含むstyle属性への対処
   3. overflow:hiddenを含むstyle属性への対処（スペースなし）
   4. paddingも含む複合パターンへの対処

   注意:
   これらはフォールバック対策であり、主な対策は
   components/ui/controlled-dialog.tsxで実装されています。
   ======================================== */

/* パターン1: overflow: hidden が含まれる場合（スペースあり） */
body[style*="overflow: hidden"] {
  overflow: visible !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
}

/* パターン2: overflow:hidden が含まれる場合（スペースなし） */
body[style*="overflow:hidden"] {
  overflow: visible !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
}

/* パターン3: padding-right も含まれる複合パターン */
body[style*="overflow"][style*="padding-right"] {
  overflow: visible !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  padding-right: 0 !important;
}

/* パターン4: style属性が存在する全てのbody要素（最終防御線） */
body[style] {
  overflow-y: auto !important;
}
